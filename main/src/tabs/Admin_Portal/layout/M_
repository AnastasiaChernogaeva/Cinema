<template>

   <div class="with-nav">
        <the-nav-bar></the-nav-bar> 

         <!-- <router-view></router-view>  -->
        <!-- <app-page :subtitle="subtitleWeNeed"> -->
              
        <!-- </app-page> -->
 <main-page></main-page> 
        
  </div>
  
  
</template>

<script> 
//  import AppPage from "../ui/AppPage.vue";
// import { useRoute } from "vue-router";
// import { computed } from "vue";

import TheNavBar from "../TheNavBar.vue";
import MainPage from "../pages/MainPage.vue";
export default {
        components:{
                TheNavBar, 
                MainPage,

        },
         setup(){
      const route = useRoute()
      const SUBTITLES_MAP = {
          films:'Фильмы',
          cinemas:'Кинотеатры',
          sessions:'Сеансы',
          add_services:'Дополнительные услуги',
          adding:'Добавить',

      }
      
      const subtitleWeNeed = computed(()=> {
          let englishName = route.path.split('/')[route.path.split('/').length-1]
           return (englishName!=='admin'|| '')?SUBTITLES_MAP[englishName]:'Фильмы'
          }) 



        //   console.log(subtitleWeNeed)

//    console.log(route.path.split('/')[route.path.split('/').length-1]);

      return{
        //   giveSubtitle:computed(()=> route.path.split('/')[route.path.split('/').length-1]) ,
        subtitleWeNeed,
      }

  },
}
</script>


<template>
    <div class="container">
    <the-nav-bar></the-nav-bar> 
    
    <router-view :subtitle="subtitleWeNeed"></router-view>
    </div>
</template>

<script>
import TheNavBar from "../TheNavBar.vue";
import { useRoute } from "vue-router";
import { computed } from "vue";
export default {
      components:{
                TheNavBar, 

        },
          setup(){
      const route = useRoute()
      const SUBTITLES_MAP = {
          films:'Фильмы',
          cinemas:'Кинотеатры',
          sessions:'Сеансы',
          add_services:'Дополнительные услуги',
          adding:'Добавить',

      }
      
      const subtitleWeNeed = computed(()=> {
          let englishName = route.path.split('/')[route.path.split('/').length-1]
           return (englishName!=='admin'|| '')?SUBTITLES_MAP[englishName]:'Фильмы'
          }) 
            document.title =  `${subtitleWeNeed.value} | Админский портал`

      return{
        subtitleWeNeed,
      }

  },
}
</script>

<style>

</style>